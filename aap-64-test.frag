#pragma header

vec4 colors[64];

float minDist = 3.;
vec4 selected;

void main()
{
    colors[0] = vec4(6. / 255., 6. / 255., 8. / 255., 1.);
    colors[1] = vec4(20. / 255., 16. / 255., 19. / 255., 1.);
    colors[2] = vec4(18. / 255., 32. / 255., 32. / 255., 1.);
    colors[3] = vec4(34. / 255., 28. / 255., 26. / 255., 1.);
    colors[4] = vec4(59. / 255., 23. / 255., 37. / 255., 1.);
    colors[5] = vec4(36. / 255., 34. / 255., 52. / 255., 1.);
    colors[6] = vec4(50. / 255., 43. / 255., 40. / 255., 1.);
    colors[7] = vec4(66. / 255., 36. / 255., 51. / 255., 1.);
    colors[8] = vec4(20. / 255., 52. / 255., 100. / 255., 1.);
    colors[9] = vec4(51. / 255., 57. / 255., 65. / 255., 1.);
    colors[10] = vec4(66. / 255., 57. / 255., 52. / 255., 1.);
    colors[11] = vec4(36. / 255., 82. / 255., 59. / 255., 1.);
    colors[12] = vec4(115. / 255., 23. / 255., 45. / 255., 1.);
    colors[13] = vec4(91. / 255., 49. / 255., 56. / 255., 1.);
    colors[14] = vec4(64. / 255., 51. / 255., 83. / 255., 1.);
    colors[15] = vec4(26. / 255., 122. / 255., 62. / 255., 1.);
    colors[16] = vec4(35. / 255., 103. / 255., 78. / 255., 1.);
    colors[17] = vec4(20. / 255., 160. / 255., 46. / 255., 1.);
    colors[18] = vec4(90. / 255., 78. / 255., 68. / 255., 1.);
    colors[19] = vec4(113. / 255., 65. / 255., 59. / 255., 1.);
    colors[20] = vec4(180. / 255., 32. / 255., 42. / 255., 1.);
    colors[21] = vec4(74. / 255., 84. / 255., 98. / 255., 1.);
    colors[22] = vec4(50. / 255., 132. / 255., 100. / 255., 1.);
    colors[23] = vec4(142. / 255., 82. / 255., 82. / 255., 1.);
    colors[24] = vec4(121. / 255., 58. / 255., 128. / 255., 1.);
    colors[25] = vec4(121. / 255., 103. / 255., 85. / 255., 1.);
    colors[26] = vec4(223. / 255., 62. / 255., 35. / 255., 1.);
    colors[27] = vec4(40. / 255., 92. / 255., 196. / 255., 1.);
    colors[28] = vec4(71. / 255., 125. / 255., 133. / 255., 1.);
    colors[29] = vec4(89. / 255., 193. / 255., 53. / 255., 1.);
    colors[30] = vec4(250. / 255., 106. / 255., 10. / 255., 1.);
    colors[31] = vec4(109. / 255., 117. / 255., 141. / 255., 1.);
    colors[32] = vec4(187. / 255., 117. / 255., 71. / 255., 1.);
    colors[33] = vec4(160. / 255., 134. / 255., 98. / 255., 1.);
    colors[34] = vec4(186. / 255., 117. / 255., 106. / 255., 1.);
    colors[35] = vec4(93. / 255., 175. / 255., 141. / 255., 1.);
    colors[36] = vec4(36. / 255., 159. / 255., 222. / 255., 1.);
    colors[37] = vec4(188. / 255., 74. / 255., 155. / 255., 1.);
    colors[38] = vec4(88. / 255., 141. / 255., 190. / 255., 1.);
    colors[39] = vec4(249. / 255., 163. / 255., 27. / 255., 1.);
    colors[40] = vec4(156. / 255., 219. / 255., 67. / 255., 1.);
    colors[41] = vec4(32. / 255., 214. / 255., 199. / 255., 1.);
    colors[42] = vec4(232. / 255., 106. / 255., 115. / 255., 1.);
    colors[43] = vec4(139. / 255., 147. / 255., 175. / 255., 1.);
    colors[44] = vec4(219. / 255., 164. / 255., 99. / 255., 1.);
    colors[45] = vec4(199. / 255., 176. / 255., 139. / 255., 1.);
    colors[46] = vec4(132. / 255., 155. / 255., 228. / 255., 1.);
    colors[47] = vec4(255. / 255., 213. / 255., 65. / 255., 1.);
    colors[48] = vec4(146. / 255., 220. / 255., 186. / 255., 1.);
    colors[49] = vec4(214. / 255., 242. / 255., 100. / 255., 1.);
    colors[50] = vec4(245. / 255., 160. / 255., 151. / 255., 1.);
    colors[51] = vec4(255. / 255., 252. / 255., 64. / 255., 1.);
    colors[52] = vec4(179. / 255., 185. / 255., 209. / 255., 1.);
    colors[53] = vec4(233. / 255., 181. / 255., 163. / 255., 1.);
    colors[54] = vec4(228. / 255., 210. / 255., 170. / 255., 1.);
    colors[55] = vec4(244. / 255., 210. / 255., 156. / 255., 1.);
    colors[56] = vec4(185. / 255., 191. / 255., 251. / 255., 1.);
    colors[57] = vec4(166. / 255., 252. / 255., 219. / 255., 1.);
    colors[58] = vec4(250. / 255., 214. / 255., 184. / 255., 1.);
    colors[59] = vec4(218. / 255., 224. / 255., 234. / 255., 1.);
    colors[60] = vec4(205. / 255., 247. / 255., 226. / 255., 1.);
    colors[61] = vec4(254. / 255., 243. / 255., 192. / 255., 1.);
    colors[62] = vec4(227. / 255., 230. / 255., 255. / 255., 1.);
    colors[63] = vec4(255. / 255., 255. / 255., 255. / 255., 1.);

    vec4 color = flixel_texture2D(bitmap, openfl_TextureCoordv);

    for (int i = 0; i < 64; i++) {
        float dist = pow(abs(color.r - colors[i].r), 2.) + pow(abs(color.g - colors[i].g), 2.) + pow(abs(color.b - colors[i].b), 2.);
        if (dist < minDist) {
            minDist = dist;
            selected = colors[i];
        }
    }

    gl_FragColor = selected;
}
